MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;блок работы с модулем RTC DS1307 - функции часов
                      00002         list p=16f887
                      00003         include <p16f887.inc>
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ;  MPASM PIC16F887 processor include
                      00005 ; 
                      00006 ;  (c) Copyright 1999-2013 Microchip Technology, All rights reserved
                      00007 ;==========================================================================
                      00008 
                      00809         LIST
                      00004 
                      00005         #define SCL     PORTA,2         ; SCL RTC
                      00006         #define SDA     PORTA,3         ; SDA RTC
                      00007         #define TRIS_SCL        TRISA,2         ; направление SCL RTC
                      00008         #define TRIS_SDA        TRISA,3         ; направление SDA RTC
                      00009 
  0000                00010         global HH,MM,SS,WD,DD,MO,YY
  0000                00011         global ReadRTCData, ReadTime, ReadDate, ReadDayofWeek
  0000                00012         global WriteRTC, WriteTime, WriteDate, WriteDayofWeek
  0000                00013         global read_time, write_time ;!!!!убрать после проверки основных функций
                      00014 
                      00015         udata
0000                  00016 HH      res .1 ;часы
0001                  00017 MM      res .1 ;минуты
0002                  00018 SS      res .1 ;секунды
0003                  00019 WD      res .1 ;день недели
0004                  00020 DD      res .1 ;число
0005                  00021 MO      res .1 ;мес€ц
0006                  00022 YY      res .1 ;год
                      00023         udata_ovr
0000                  00024 TMP res .1
0001                  00025 COUNT res .1
                      00026 
                      00027 ;макросы
                      00028 ;-----------------------------------------------------------------
                      00029 ;установка банка 0
                      00030 SET_BANK0 MACRO 
                      00031         bcf STATUS, RP0
                      00032         bcf STATUS, RP1 
                      00033         ENDM
                      00034 ;-----------------------------------------------------------------
                      00035 ;установка банка 1
                      00036 SET_BANK1 MACRO 
                      00037         bsf STATUS, RP0
                      00038         bcf STATUS, RP1 
                      00039         ENDM
                      00040 ;------------------------------------------------------------------
                      00041 RTC_START MACRO ;!!!!!команда старт дл€ часов реального времени
                      00042         SET_BANK0
                      00043         bsf     SDA                     ; SDA high
                      00044         nop
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00045         SET_BANK1
                      00046         bsf     TRIS_SCL                ; SCL high (input)
                      00047         SET_BANK0
                      00048         bcf     SDA                     ; SDA low (start)
                      00049         ENDM
                      00050         ;-------------------
                      00051 RTC_STOP MACRO                  ;!!!!команда стоп дл€ часов реального времени
                      00052         SET_BANK0
                      00053         bcf     SDA                     ; SDA low
                      00054         nop
                      00055         nop
                      00056         SET_BANK1
                      00057         bsf     TRIS_SCL                ; SCL high (input)
                      00058         SET_BANK0
                      00059         bsf     SDA                     ; SDA high
                      00060         ENDM
                      00061 ;------------------------------------------------------------------
                      00062 
                      00063         code
                      00064 ;-----------------------------------------------------------------------
                      00065 ;- —читать текущее состо€ние времени/даты/дл€ недели и т.д.
                      00066 ;ReadRTCData(HH,MM,SS,WD,DD,MO,YY)
0000                  00067 ReadRTCData
                      00068         RTC_START
                          M         SET_BANK0
0000   1283               M         bcf STATUS, RP0
0001   1303               M         bcf STATUS, RP1 
0002   1585               M         bsf     SDA                     ; SDA high
0003   0000               M         nop
                          M         SET_BANK1
0004   1683               M         bsf STATUS, RP0
0005   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0006   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
0007   1283               M         bcf STATUS, RP0
0008   1303               M         bcf STATUS, RP1 
0009   1185               M         bcf     SDA                     ; SDA low (start)
000A   ???? ????      00069         banksel SS
000C   30D0           00070         movlw   b'11010000' ;0D0h                       ; slave address + write
000D   2???           00071         call    write_RTC
000E   3000           00072         movlw   0                       ; set word address to seconds register
000F   2???           00073         call    write_RTC
                      00074         RTC_START
                          M         SET_BANK0
0010   1283               M         bcf STATUS, RP0
0011   1303               M         bcf STATUS, RP1 
0012   1585               M         bsf     SDA                     ; SDA high
0013   0000               M         nop
                          M         SET_BANK1
0014   1683               M         bsf STATUS, RP0
0015   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0016   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
0017   1283               M         bcf STATUS, RP0
0018   1303               M         bcf STATUS, RP1 
0019   1185               M         bcf     SDA                     ; SDA low (start)
001A   ???? ????      00075         banksel SS
001C   30D1           00076         movlw   b'11010001';0D1h                        ; slave address + read
001D   2???           00077         call    write_RTC
001E   2???           00078         call    read_RTC                ; read the seconds data
001F   00??           00079         movwf   SS                      ; save it
0020   2???           00080         call    ack;
0021   2???           00081         call    read_RTC                ; and so on
0022   00??           00082         movwf   MM
0023   2???           00083         call    ack;
0024   2???           00084         call    read_RTC
0025   00??           00085         movwf   HH
0026   2???           00086         call    ack;
0027   2???           00087         call    read_RTC
0028   00??           00088         movwf   WD
0029   2???           00089         call    ack;
002A   2???           00090         call    read_RTC
002B   00??           00091         movwf   DD
002C   2???           00092         call    ack;
002D   2???           00093         call    read_RTC
002E   00??           00094         movwf   MO
002F   2???           00095         call    ack;
0030   2???           00096         call    read_RTC
0031   00??           00097         movwf   YY
0032   2???           00098         call    nack;
                      00099         RTC_STOP
                          M         SET_BANK0
0033   1283               M         bcf STATUS, RP0
0034   1303               M         bcf STATUS, RP1 
0035   1185               M         bcf     SDA                     ; SDA low
0036   0000               M         nop
0037   0000               M         nop
                          M         SET_BANK1
0038   1683               M         bsf STATUS, RP0
0039   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
003A   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
003B   1283               M         bcf STATUS, RP0
003C   1303               M         bcf STATUS, RP1 
003D   1585               M         bsf     SDA                     ; SDA high
003E   0008           00100         return
                      00101 ;-----------------------------------------------------------------------
                      00102 ;- —читать отдельно значение времени
                      00103 ;ReadTime(HH,MM,SS)
003F                  00104 ReadTime
                      00105         RTC_START
                          M         SET_BANK0
003F   1283               M         bcf STATUS, RP0
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0040   1303               M         bcf STATUS, RP1 
0041   1585               M         bsf     SDA                     ; SDA high
0042   0000               M         nop
                          M         SET_BANK1
0043   1683               M         bsf STATUS, RP0
0044   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0045   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
0046   1283               M         bcf STATUS, RP0
0047   1303               M         bcf STATUS, RP1 
0048   1185               M         bcf     SDA                     ; SDA low (start)
0049   ???? ????      00106         banksel SS
004B   30D0           00107         movlw   b'11010000' ;0D0h                       ; slave address + write
004C   2???           00108         call    write_RTC
004D   3000           00109         movlw   0                       ; set word address to seconds register
004E   2???           00110         call    write_RTC
                      00111         RTC_START
                          M         SET_BANK0
004F   1283               M         bcf STATUS, RP0
0050   1303               M         bcf STATUS, RP1 
0051   1585               M         bsf     SDA                     ; SDA high
0052   0000               M         nop
                          M         SET_BANK1
0053   1683               M         bsf STATUS, RP0
0054   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0055   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
0056   1283               M         bcf STATUS, RP0
0057   1303               M         bcf STATUS, RP1 
0058   1185               M         bcf     SDA                     ; SDA low (start)
0059   ???? ????      00112         banksel SS
005B   30D1           00113         movlw   b'11010001';0D1h                        ; slave address + read
005C   2???           00114         call    write_RTC
005D   2???           00115         call    read_RTC                ; read the seconds data
005E   00??           00116         movwf   SS                      ; save it
005F   2???           00117         call    ack;
0060   2???           00118         call    read_RTC                ; and so on
0061   00??           00119         movwf   MM
0062   2???           00120         call    ack;
0063   2???           00121         call    read_RTC
0064   00??           00122         movwf   HH
0065   2???           00123         call    nack;
                      00124         RTC_STOP
                          M         SET_BANK0
0066   1283               M         bcf STATUS, RP0
0067   1303               M         bcf STATUS, RP1 
0068   1185               M         bcf     SDA                     ; SDA low
0069   0000               M         nop
006A   0000               M         nop
                          M         SET_BANK1
006B   1683               M         bsf STATUS, RP0
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

006C   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
006D   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
006E   1283               M         bcf STATUS, RP0
006F   1303               M         bcf STATUS, RP1 
0070   1585               M         bsf     SDA                     ; SDA high
0071   0008           00125         return
                      00126 ;-----------------------------------------------------------------------
                      00127 ;- —читать отдельно дату
                      00128 ;ReadDate(DD,MO,YY)
0072                  00129 ReadDate
                      00130         RTC_START
                          M         SET_BANK0
0072   1283               M         bcf STATUS, RP0
0073   1303               M         bcf STATUS, RP1 
0074   1585               M         bsf     SDA                     ; SDA high
0075   0000               M         nop
                          M         SET_BANK1
0076   1683               M         bsf STATUS, RP0
0077   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0078   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
0079   1283               M         bcf STATUS, RP0
007A   1303               M         bcf STATUS, RP1 
007B   1185               M         bcf     SDA                     ; SDA low (start)
007C   ???? ????      00131         banksel SS
007E   30D0           00132         movlw   b'11010000' ;0D0h                       ; slave address + write
007F   2???           00133         call    write_RTC
0080   3000           00134         movlw   0                       ; set word address to seconds register
0081   2???           00135         call    write_RTC
                      00136         RTC_START
                          M         SET_BANK0
0082   1283               M         bcf STATUS, RP0
0083   1303               M         bcf STATUS, RP1 
0084   1585               M         bsf     SDA                     ; SDA high
0085   0000               M         nop
                          M         SET_BANK1
0086   1683               M         bsf STATUS, RP0
0087   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0088   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
0089   1283               M         bcf STATUS, RP0
008A   1303               M         bcf STATUS, RP1 
008B   1185               M         bcf     SDA                     ; SDA low (start)
008C   ???? ????      00137         banksel SS
008E   30D1           00138         movlw   b'11010001';0D1h                        ; slave address + read
008F   2???           00139         call    write_RTC
0090   2???           00140         call    read_RTC                ; read the seconds data
0091   2???           00141         call    ack;
0092   2???           00142         call    read_RTC                ; and so on
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0093   2???           00143         call    ack;
0094   2???           00144         call    read_RTC
0095   2???           00145         call    ack;
0096   2???           00146         call    read_RTC
0097   2???           00147         call    ack;
0098   2???           00148         call    read_RTC
0099   00??           00149         movwf   DD
009A   2???           00150         call    ack;
009B   2???           00151         call    read_RTC
009C   00??           00152         movwf   MO
009D   2???           00153         call    ack;
009E   2???           00154         call    read_RTC
009F   00??           00155         movwf   YY
00A0   2???           00156         call    nack;
                      00157         RTC_STOP
                          M         SET_BANK0
00A1   1283               M         bcf STATUS, RP0
00A2   1303               M         bcf STATUS, RP1 
00A3   1185               M         bcf     SDA                     ; SDA low
00A4   0000               M         nop
00A5   0000               M         nop
                          M         SET_BANK1
00A6   1683               M         bsf STATUS, RP0
00A7   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00A8   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
00A9   1283               M         bcf STATUS, RP0
00AA   1303               M         bcf STATUS, RP1 
00AB   1585               M         bsf     SDA                     ; SDA high
00AC   0008           00158         return
                      00159 ;-----------------------------------------------------------------------
                      00160 ;- —читать отдельно день недели
                      00161 ;ReadDayofWeek(DW)
00AD                  00162 ReadDayofWeek
                      00163         RTC_START
                          M         SET_BANK0
00AD   1283               M         bcf STATUS, RP0
00AE   1303               M         bcf STATUS, RP1 
00AF   1585               M         bsf     SDA                     ; SDA high
00B0   0000               M         nop
                          M         SET_BANK1
00B1   1683               M         bsf STATUS, RP0
00B2   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00B3   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
00B4   1283               M         bcf STATUS, RP0
00B5   1303               M         bcf STATUS, RP1 
00B6   1185               M         bcf     SDA                     ; SDA low (start)
00B7   ???? ????      00164         banksel SS
00B9   30D0           00165         movlw   b'11010000' ;0D0h                       ; slave address + write
00BA   2???           00166         call    write_RTC
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00BB   3000           00167         movlw   0                       ; set word address to seconds register
00BC   2???           00168         call    write_RTC
                      00169         RTC_START
                          M         SET_BANK0
00BD   1283               M         bcf STATUS, RP0
00BE   1303               M         bcf STATUS, RP1 
00BF   1585               M         bsf     SDA                     ; SDA high
00C0   0000               M         nop
                          M         SET_BANK1
00C1   1683               M         bsf STATUS, RP0
00C2   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00C3   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
00C4   1283               M         bcf STATUS, RP0
00C5   1303               M         bcf STATUS, RP1 
00C6   1185               M         bcf     SDA                     ; SDA low (start)
00C7   ???? ????      00170         banksel SS
00C9   30D1           00171         movlw   b'11010001';0D1h                        ; slave address + read
00CA   2???           00172         call    write_RTC
00CB   2???           00173         call    read_RTC                ; read the seconds data
00CC   2???           00174         call    ack;
00CD   2???           00175         call    read_RTC                ; and so on
00CE   2???           00176         call    ack;
00CF   2???           00177         call    read_RTC
00D0   2???           00178         call    ack;
00D1   2???           00179         call    read_RTC
00D2   00??           00180         movwf   WD
00D3   2???           00181         call    nack;
                      00182         RTC_STOP
                          M         SET_BANK0
00D4   1283               M         bcf STATUS, RP0
00D5   1303               M         bcf STATUS, RP1 
00D6   1185               M         bcf     SDA                     ; SDA low
00D7   0000               M         nop
00D8   0000               M         nop
                          M         SET_BANK1
00D9   1683               M         bsf STATUS, RP0
00DA   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00DB   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
00DC   1283               M         bcf STATUS, RP0
00DD   1303               M         bcf STATUS, RP1 
00DE   1585               M         bsf     SDA                     ; SDA high
00DF   0008           00183         return
                      00184 ;-----------------------------------------------------------------------
                      00185 ;- ”становить все временные параметры
                      00186 ;WriteRTC(HH,MM,SS,DW,DD,MO,YY)
00E0                  00187 WriteRTC
                      00188         RTC_START
                          M         SET_BANK0
00E0   1283               M         bcf STATUS, RP0
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00E1   1303               M         bcf STATUS, RP1 
00E2   1585               M         bsf     SDA                     ; SDA high
00E3   0000               M         nop
                          M         SET_BANK1
00E4   1683               M         bsf STATUS, RP0
00E5   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00E6   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
00E7   1283               M         bcf STATUS, RP0
00E8   1303               M         bcf STATUS, RP1 
00E9   1185               M         bcf     SDA                     ; SDA low (start)
00EA   ???? ????      00189         banksel SS
00EC   30D0           00190         movlw   b'11010000';0D0h                        ; slave address + write
00ED   2???           00191         call    write_RTC
00EE   3000           00192         movlw   0                       ; set word address to seconds register
00EF   2???           00193         call    write_RTC
00F0   ???? ????      00194         banksel SS
00F2   08??           00195         movf    SS,0 ;секунды
00F3   2???           00196         call    write_RTC
00F4   ???? ????      00197         banksel SS
00F6   08??           00198         movf    MM,0 ;минуты
00F7   2???           00199         call    write_RTC
00F8   ???? ????      00200         banksel SS
00FA   08??           00201         movf    HH,0 ;часы
00FB   2???           00202         call    write_RTC
00FC   ???? ????      00203         banksel SS
00FE   08??           00204         movf    WD,0 ;день недели
00FF   2???           00205         call    write_RTC
0100   ???? ????      00206         banksel SS
0102   08??           00207         movf    DD,0 ;число
0103   ???? ????      00208         banksel SS
0105   2???           00209         call    write_RTC
0106   ???? ????      00210         banksel SS
0108   08??           00211         movf    MO,0 ;мес€ц
0109   2???           00212         call    write_RTC
010A   ???? ????      00213         banksel SS
010C   08??           00214         movf    YY,0 ;год
010D   2???           00215         call    write_RTC
                      00216         RTC_STOP
                          M         SET_BANK0
010E   1283               M         bcf STATUS, RP0
010F   1303               M         bcf STATUS, RP1 
0110   1185               M         bcf     SDA                     ; SDA low
0111   0000               M         nop
0112   0000               M         nop
                          M         SET_BANK1
0113   1683               M         bsf STATUS, RP0
0114   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0115   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
0116   1283               M         bcf STATUS, RP0
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0117   1303               M         bcf STATUS, RP1 
0118   1585               M         bsf     SDA                     ; SDA high
0119   0008           00217         return
                      00218 ;-----------------------------------------------------------------------
                      00219 ;- ”становить врем€ (не мен€€ при этом все остальное)
                      00220 ;WriteTime(HH,MM,SS)
011A                  00221 WriteTime
                      00222         RTC_START
                          M         SET_BANK0
011A   1283               M         bcf STATUS, RP0
011B   1303               M         bcf STATUS, RP1 
011C   1585               M         bsf     SDA                     ; SDA high
011D   0000               M         nop
                          M         SET_BANK1
011E   1683               M         bsf STATUS, RP0
011F   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0120   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
0121   1283               M         bcf STATUS, RP0
0122   1303               M         bcf STATUS, RP1 
0123   1185               M         bcf     SDA                     ; SDA low (start)
0124   ???? ????      00223         banksel SS
0126   30D0           00224         movlw   b'11010000';0D0h                        ; slave address + write
0127   2???           00225         call    write_RTC
0128   3000           00226         movlw   0                       ; set word address to seconds register
0129   2???           00227         call    write_RTC
012A   ???? ????      00228         banksel SS
012C   08??           00229         movf    SS,0 ;секунды
012D   2???           00230         call    write_RTC
012E   ???? ????      00231         banksel SS
0130   08??           00232         movf    MM,0 ;минуты
0131   2???           00233         call    write_RTC
0132   ???? ????      00234         banksel SS
0134   08??           00235         movf    HH,0 ;часы
0135   2???           00236         call    write_RTC
                      00237         RTC_STOP
                          M         SET_BANK0
0136   1283               M         bcf STATUS, RP0
0137   1303               M         bcf STATUS, RP1 
0138   1185               M         bcf     SDA                     ; SDA low
0139   0000               M         nop
013A   0000               M         nop
                          M         SET_BANK1
013B   1683               M         bsf STATUS, RP0
013C   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
013D   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
013E   1283               M         bcf STATUS, RP0
013F   1303               M         bcf STATUS, RP1 
0140   1585               M         bsf     SDA                     ; SDA high
0141   0008           00238         return
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00239 ;-----------------------------------------------------------------------
                      00240 ;- ”становить дату (не мен€€ при этом все остальное)
                      00241 ;WriteDate(DD,MO,YY)
0142                  00242 WriteDate
                      00243         RTC_START
                          M         SET_BANK0
0142   1283               M         bcf STATUS, RP0
0143   1303               M         bcf STATUS, RP1 
0144   1585               M         bsf     SDA                     ; SDA high
0145   0000               M         nop
                          M         SET_BANK1
0146   1683               M         bsf STATUS, RP0
0147   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0148   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
0149   1283               M         bcf STATUS, RP0
014A   1303               M         bcf STATUS, RP1 
014B   1185               M         bcf     SDA                     ; SDA low (start)
014C   ???? ????      00244         banksel SS
014E   30D0           00245         movlw   b'11010000';0D0h                        ; slave address + write
014F   2???           00246         call    write_RTC
0150   3004           00247         movlw   0x04                    ; адрес регистра с датой
0151   2???           00248         call    write_RTC
0152   ???? ????      00249         banksel SS
0154   08??           00250         movf    DD,0 ;число
0155   ???? ????      00251         banksel SS
0157   2???           00252         call    write_RTC
0158   ???? ????      00253         banksel SS
015A   08??           00254         movf    MO,0 ;мес€ц
015B   2???           00255         call    write_RTC
015C   ???? ????      00256         banksel SS
015E   08??           00257         movf    YY,0 ;год
015F   2???           00258         call    write_RTC
                      00259         RTC_STOP
                          M         SET_BANK0
0160   1283               M         bcf STATUS, RP0
0161   1303               M         bcf STATUS, RP1 
0162   1185               M         bcf     SDA                     ; SDA low
0163   0000               M         nop
0164   0000               M         nop
                          M         SET_BANK1
0165   1683               M         bsf STATUS, RP0
0166   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0167   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
0168   1283               M         bcf STATUS, RP0
0169   1303               M         bcf STATUS, RP1 
016A   1585               M         bsf     SDA                     ; SDA high
016B   0008           00260         return
                      00261 ;-----------------------------------------------------------------------
                      00262 ;- ”становить день недели (не мен€€ при этом все остальное)
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00263 ;WriteDayofWeek(DW)
016C                  00264 WriteDayofWeek
                      00265         RTC_START
                          M         SET_BANK0
016C   1283               M         bcf STATUS, RP0
016D   1303               M         bcf STATUS, RP1 
016E   1585               M         bsf     SDA                     ; SDA high
016F   0000               M         nop
                          M         SET_BANK1
0170   1683               M         bsf STATUS, RP0
0171   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0172   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
0173   1283               M         bcf STATUS, RP0
0174   1303               M         bcf STATUS, RP1 
0175   1185               M         bcf     SDA                     ; SDA low (start)
0176   ???? ????      00266         banksel WD
0178   30D0           00267         movlw   b'11010000';0D0h                        ; slave address + write
0179   2???           00268         call    write_RTC
017A   3003           00269         movlw   0x03                    ; адрес регистра с днем недели
017B   2???           00270         call    write_RTC
017C   ???? ????      00271         banksel WD
017E   08??           00272         movf    WD,0 ;день недели
017F   2???           00273         call    write_RTC
                      00274         RTC_STOP
                          M         SET_BANK0
0180   1283               M         bcf STATUS, RP0
0181   1303               M         bcf STATUS, RP1 
0182   1185               M         bcf     SDA                     ; SDA low
0183   0000               M         nop
0184   0000               M         nop
                          M         SET_BANK1
0185   1683               M         bsf STATUS, RP0
0186   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0187   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
0188   1283               M         bcf STATUS, RP0
0189   1303               M         bcf STATUS, RP1 
018A   1585               M         bsf     SDA                     ; SDA high
018B   0008           00275         return
                      00276 ;-----------------------------------------------------------------------
018C                  00277 read_time ;чтение текущего времени из часов реального времени
                      00278         RTC_START
                          M         SET_BANK0
018C   1283               M         bcf STATUS, RP0
018D   1303               M         bcf STATUS, RP1 
018E   1585               M         bsf     SDA                     ; SDA high
018F   0000               M         nop
                          M         SET_BANK1
0190   1683               M         bsf STATUS, RP0
0191   1303               M         bcf STATUS, RP1 
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0192   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
0193   1283               M         bcf STATUS, RP0
0194   1303               M         bcf STATUS, RP1 
0195   1185               M         bcf     SDA                     ; SDA low (start)
0196   ???? ????      00279         banksel SS
0198   30D0           00280         movlw   b'11010000' ;0D0h                       ; slave address + write
0199   2???           00281         call    write_RTC
019A   3000           00282         movlw   0                       ; set word address to seconds register
019B   2???           00283         call    write_RTC
                      00284         RTC_START
                          M         SET_BANK0
019C   1283               M         bcf STATUS, RP0
019D   1303               M         bcf STATUS, RP1 
019E   1585               M         bsf     SDA                     ; SDA high
019F   0000               M         nop
                          M         SET_BANK1
01A0   1683               M         bsf STATUS, RP0
01A1   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01A2   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
01A3   1283               M         bcf STATUS, RP0
01A4   1303               M         bcf STATUS, RP1 
01A5   1185               M         bcf     SDA                     ; SDA low (start)
01A6   ???? ????      00285         banksel SS
01A8   30D1           00286         movlw   b'11010001';0D1h                        ; slave address + read
01A9   2???           00287         call    write_RTC
01AA   2???           00288         call    read_RTC                ; read the seconds data
01AB   00??           00289         movwf   SS                      ; save it
01AC   2???           00290         call    ack;
01AD   2???           00291         call    read_RTC                ; and so on
01AE   00??           00292         movwf   MM
01AF   2???           00293         call    ack;
01B0   2???           00294         call    read_RTC
01B1   00??           00295         movwf   HH
01B2   2???           00296         call    ack;
01B3   2???           00297         call    read_RTC
01B4   00??           00298         movwf   WD
01B5   2???           00299         call    ack;
01B6   2???           00300         call    read_RTC
01B7   00??           00301         movwf   DD
01B8   2???           00302         call    ack;
01B9   2???           00303         call    read_RTC
01BA   00??           00304         movwf   MO
01BB   2???           00305         call    ack;
01BC   2???           00306         call    read_RTC
01BD   00??           00307         movwf   YY
01BE   2???           00308         call    nack;
                      00309         RTC_STOP
                          M         SET_BANK0
01BF   1283               M         bcf STATUS, RP0
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01C0   1303               M         bcf STATUS, RP1 
01C1   1185               M         bcf     SDA                     ; SDA low
01C2   0000               M         nop
01C3   0000               M         nop
                          M         SET_BANK1
01C4   1683               M         bsf STATUS, RP0
01C5   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01C6   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
01C7   1283               M         bcf STATUS, RP0
01C8   1303               M         bcf STATUS, RP1 
01C9   1585               M         bsf     SDA                     ; SDA high
01CA   0008           00310         return
                      00311 ;-----------------------------------------------------------------------
01CB                  00312 write_time ;запись времени в часы реального времени 
                      00313 ;записываютс€ константы, поэтому перед использование нужно их правильно установить
                      00314         RTC_START
                          M         SET_BANK0
01CB   1283               M         bcf STATUS, RP0
01CC   1303               M         bcf STATUS, RP1 
01CD   1585               M         bsf     SDA                     ; SDA high
01CE   0000               M         nop
                          M         SET_BANK1
01CF   1683               M         bsf STATUS, RP0
01D0   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01D1   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
01D2   1283               M         bcf STATUS, RP0
01D3   1303               M         bcf STATUS, RP1 
01D4   1185               M         bcf     SDA                     ; SDA low (start)
01D5   ???? ????      00315         banksel SS
01D7   30D0           00316         movlw   b'11010000';0D0h                        ; slave address + write
01D8   2???           00317         call    write_RTC
01D9   3000           00318         movlw   0                       ; set word address to seconds register
01DA   2???           00319         call    write_RTC
01DB   ???? ????      00320         banksel SS
01DD   08??           00321         movf    SS,0 ;секунды
01DE   2???           00322         call    write_RTC
01DF   ???? ????      00323         banksel SS
01E1   08??           00324         movf    MM,0 ;минуты
01E2   2???           00325         call    write_RTC
01E3   ???? ????      00326         banksel SS
01E5   08??           00327         movf    HH,0 ;часы
01E6   2???           00328         call    write_RTC
01E7   ???? ????      00329         banksel SS
01E9   08??           00330         movf    WD,0 ;день недели
01EA   2???           00331         call    write_RTC
01EB   ???? ????      00332         banksel SS
01ED   08??           00333         movf    DD,0 ;число
01EE   ???? ????      00334         banksel SS
01F0   2???           00335         call    write_RTC
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01F1   ???? ????      00336         banksel SS
01F3   08??           00337         movf    MO,0 ;мес€ц
01F4   2???           00338         call    write_RTC
01F5   ???? ????      00339         banksel SS
01F7   08??           00340         movf    YY,0 ;год
01F8   2???           00341         call    write_RTC
                      00342         RTC_STOP
                          M         SET_BANK0
01F9   1283               M         bcf STATUS, RP0
01FA   1303               M         bcf STATUS, RP1 
01FB   1185               M         bcf     SDA                     ; SDA low
01FC   0000               M         nop
01FD   0000               M         nop
                          M         SET_BANK1
01FE   1683               M         bsf STATUS, RP0
01FF   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0200   1505               M         bsf     TRIS_SCL                ; SCL high (input)
                          M         SET_BANK0
0201   1283               M         bcf STATUS, RP0
0202   1303               M         bcf STATUS, RP1 
0203   1585               M         bsf     SDA                     ; SDA high
0204   0008           00343         return
                      00344 ;---- Read RTC into W  ----
0205                  00345 read_RTC:
                      00346         SET_BANK1
0205   1683               M         bsf STATUS, RP0
0206   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0207   1585           00347         bsf     TRIS_SDA                ; set SDA for input
0208   ???? ????      00348         banksel COUNT
020A   3008           00349         movlw   .8              ; send 8 bits
020B   00??           00350         movwf   COUNT
                      00351         SET_BANK0
020C   1283               M         bcf STATUS, RP0
020D   1303               M         bcf STATUS, RP1 
020E   1105           00352         bcf     SCL                     ; clock data out
                      00353         SET_BANK1
020F   1683               M         bsf STATUS, RP0
0210   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0211   1105           00354         bcf     TRIS_SCL                ; SCL low (output)
0212   ???? ????      00355         banksel TMP
0214   01??           00356         clrf    TMP                     ; clear var
0215   0D??           00357         rlf     TMP, 1                  ; rotate carry in
0216   01??           00358         clrf    TMP                     ; clear var again
0217                  00359 I2C_read_loop:
0217   0D??           00360         rlf     TMP, 1
                      00361         SET_BANK1
0218   1683               M         bsf STATUS, RP0
0219   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
021A   1505           00362         bsf     TRIS_SCL                ; SCL high (input)
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00363         SET_BANK0
021B   1283               M         bcf STATUS, RP0
021C   1303               M         bcf STATUS, RP1 
021D   1985           00364         btfsc   SDA
021E   2???           00365         goto set_TMP                    ; if data out = 1, set bit
021F                  00366 cont_I2C_r
                      00367         SET_BANK0
021F   1283               M         bcf STATUS, RP0
0220   1303               M         bcf STATUS, RP1 
0221   1105           00368         bcf     SCL
                      00369         SET_BANK1
0222   1683               M         bsf STATUS, RP0
0223   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0224   1105           00370         bcf     TRIS_SCL                ; SCL low (output)
0225   ???? ????      00371         banksel COUNT
0227   0B??           00372         decfsz  COUNT, 1
0228   2???           00373         goto    I2C_read_loop
0229   08??           00374         movf    TMP, W
022A   0008           00375         return
022B                  00376 set_TMP
022B   ???? ????      00377         banksel TMP
022D   1400           00378         bsf TMP,0
022E   2???           00379         goto cont_I2C_r
                      00380 ;---- ACK read (assumes SCL=0 on entry) ----
022F                  00381 ack:
                      00382         SET_BANK0
022F   1283               M         bcf STATUS, RP0
0230   1303               M         bcf STATUS, RP1 
0231   1185           00383         bcf             SDA
                      00384         SET_BANK1
0232   1683               M         bsf STATUS, RP0
0233   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0234   1185           00385         bcf     TRIS_SDA                ; set SDA for output
                      00386         SET_BANK0
0235   1283               M         bcf STATUS, RP0
0236   1303               M         bcf STATUS, RP1 
                      00387         SET_BANK1
0237   1683               M         bsf STATUS, RP0
0238   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0239   1505           00388         bsf     TRIS_SCL                ; SCL high (input)
                      00389         SET_BANK0
023A   1283               M         bcf STATUS, RP0
023B   1303               M         bcf STATUS, RP1 
023C   0000           00390         nop
023D   1105           00391         bcf     SCL
                      00392         SET_BANK1
023E   1683               M         bsf STATUS, RP0
023F   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0240   1105           00393         bcf     TRIS_SCL                ; SCL low (output)
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0241   ???? ????      00394         banksel SS
0243   0008           00395         return
                      00396 ;---- NACK read (assumes SCL = 0 on entry) ----
0244                  00397 nack:
                      00398         SET_BANK0
0244   1283               M         bcf STATUS, RP0
0245   1303               M         bcf STATUS, RP1 
0246   1585           00399         bsf     SDA
                      00400         SET_BANK1
0247   1683               M         bsf STATUS, RP0
0248   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0249   1185           00401         bcf     TRIS_SDA                ; set SDA for output
                      00402         SET_BANK0
024A   1283               M         bcf STATUS, RP0
024B   1303               M         bcf STATUS, RP1 
                      00403         SET_BANK1
024C   1683               M         bsf STATUS, RP0
024D   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
024E   1505           00404         bsf     TRIS_SCL                ; SCL high (input)
                      00405         SET_BANK0
024F   1283               M         bcf STATUS, RP0
0250   1303               M         bcf STATUS, RP1 
0251   1105           00406         bcf     SCL
                      00407         SET_BANK1
0252   1683               M         bsf STATUS, RP0
0253   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0254   1105           00408         bcf     TRIS_SCL                ; SCL low (output)
0255   ???? ????      00409         banksel SS
0257   0008           00410         return
                      00411 ;--- Write the byte in W to RTC ---
0258                  00412 write_RTC:
0258   ???? ????      00413         banksel TMP
025A   00??           00414         movwf   TMP                     ;Save the data
                      00415 ;--- Do a I2C bus write of byte in 'TMP' ---
025B                  00416 I2C_write:
                      00417         SET_BANK1
025B   1683               M         bsf STATUS, RP0
025C   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
025D   1185           00418         bcf     TRIS_SDA                ; set SDA for output
025E   ???? ????      00419         banksel COUNT
0260   3008           00420         movlw   .8                      ; send 8 bits
0261   00??           00421         movwf   COUNT
                      00422         SET_BANK0
0262   1283               M         bcf STATUS, RP0
0263   1303               M         bcf STATUS, RP1 
0264   1105           00423         bcf     SCL
                      00424         SET_BANK1
0265   1683               M         bsf STATUS, RP0
0266   1303               M         bcf STATUS, RP1 
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0267   1105           00425         bcf     TRIS_SCL                ; SCL low (output)
0268                  00426 I2C_w_loop:
                      00427         SET_BANK0
0268   1283               M         bcf STATUS, RP0
0269   1303               M         bcf STATUS, RP1 
026A   1185           00428         bcf     SDA                     ; assume data out is low
026B   ???? ????      00429         banksel TMP
026D   1B80           00430         btfsc   TMP, 7
026E   2???           00431         call set_SDA    
                      00432         ; nop
                      00433         SET_BANK1
026F   1683               M         bsf STATUS, RP0
0270   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0271   1505           00434         bsf     TRIS_SCL                ; SCL high (input)
0272   ???? ????      00435         banksel TMP
0274   0D??           00436         rlf     TMP, 1
                      00437         SET_BANK0
0275   1283               M         bcf STATUS, RP0
0276   1303               M         bcf STATUS, RP1 
0277   1105           00438         bcf     SCL                     ; clock it in
                      00439         SET_BANK1
0278   1683               M         bsf STATUS, RP0
0279   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
027A   1105           00440         bcf     TRIS_SCL                ; SCL low (output)
027B   ???? ????      00441         banksel COUNT
027D   0B??           00442         decfsz  COUNT, 1
027E   2???           00443         goto    I2C_w_loop
                      00444         SET_BANK1
027F   1683               M         bsf STATUS, RP0
0280   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0281   1585           00445         bsf     TRIS_SDA                ; set SDA for input
                      00446         SET_BANK0
0282   1283               M         bcf STATUS, RP0
0283   1303               M         bcf STATUS, RP1 
0284   1105           00447         bcf     SCL
                      00448         SET_BANK1
0285   1683               M         bsf STATUS, RP0
0286   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0287   1105           00449         bcf     TRIS_SCL                ; SCL low (output)
0288   0000           00450         nop
0289   0000           00451         nop
028A   0000           00452         nop
028B   0000           00453         nop
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
028C   1505           00454         bsf     TRIS_SCL                ; SCL high (input)
                      00455         SET_BANK0
028D   1283               M         bcf STATUS, RP0
028E   1303               M         bcf STATUS, RP1 
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

028F   1105           00456         bcf             SCL
                      00457         SET_BANK1
0290   1683               M         bsf STATUS, RP0
0291   1303               M         bcf STATUS, RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0292   1105           00458         bcf     TRIS_SCL                ; SCL low (output)
                      00459         SET_BANK0
0293   1283               M         bcf STATUS, RP0
0294   1303               M         bcf STATUS, RP1 
0295   0008           00460         return
0296                  00461 set_SDA
                      00462         SET_BANK0
0296   1283               M         bcf STATUS, RP0
0297   1303               M         bcf STATUS, RP1 
0298   1585           00463         bsf     SDA                     ; if data out = 1, set bit
0299   0008           00464         return
                      00465 ;----------------------------------------------------------------------
                      00466         end
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 19


SYMBOL TABLE
  LABEL                             VALUE 

ABDEN                             00000000
ABDOVF                            00000007
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ANS0                              00000000
ANS1                              00000001
ANS10                             00000002
ANS11                             00000003
ANS12                             00000004
ANS13                             00000005
ANS2                              00000002
ANS3                              00000003
ANS4                              00000004
ANS5                              00000005
ANS6                              00000006
ANS7                              00000007
ANS8                              00000000
ANS9                              00000001
ANSEL                             00000188
ANSELH                            00000189
BAUDCTL                           00000187
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRG0                              00000000
BRG1                              00000001
BRG10                             00000002
BRG11                             00000003
BRG12                             00000004
BRG13                             00000005
BRG14                             00000006
BRG15                             00000007
BRG16                             00000003
BRG2                              00000002
BRG3                              00000003
BRG4                              00000004
BRG5                              00000005
BRG6                              00000006
BRG7                              00000007
BRG8                              00000000
BRG9                              00000001
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 20


SYMBOL TABLE
  LABEL                             VALUE 

BRGH                              00000002
C                                 00000000
C1CH0                             00000000
C1CH1                             00000001
C1IE                              00000005
C1IF                              00000005
C1OE                              00000005
C1ON                              00000007
C1OUT                             00000006
C1POL                             00000004
C1R                               00000002
C1RSEL                            00000005
C1SEN                             00000005
C2CH0                             00000000
C2CH1                             00000001
C2IE                              00000006
C2IF                              00000006
C2OE                              00000005
C2ON                              00000007
C2OUT                             00000006
C2POL                             00000004
C2R                               00000002
C2REN                             00000004
C2RSEL                            00000004
C2SYNC                            00000000
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2                             0000001B
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000002
CHS1                              00000003
CHS2                              00000004
CHS3                              00000005
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 21


SYMBOL TABLE
  LABEL                             VALUE 

CKE                               00000006
CKP                               00000004
CM1CON0                           00000107
CM2CON0                           00000108
CM2CON1                           00000109
COUNT                             00000001
CREN                              00000004
CSRC                              00000007
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
DC1B0                             00000004
DC1B1                             00000005
DC2B0                             00000004
DC2B1                             00000005
DD                                00000004
D_A                               00000005
D_NOT_A                           00000005
ECCPAS                            0000009C
ECCPAS0                           00000004
ECCPAS1                           00000005
ECCPAS2                           00000006
ECCPASE                           00000007
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDAT                             0000010C
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FSR                               00000004
FVREN                             00000000
GCEN                              00000007
GIE                               00000007
GO                                00000001
GO_DONE                           00000001
GO_NOT_DONE                       00000001
HH                                00000000
HTS                               00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
I2C_read_loop                     00000217
I2C_w_loop                        00000268
I2C_write                         0000025B
INDF                              00000000
INTCON                            0000000B
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 22


SYMBOL TABLE
  LABEL                             VALUE 

INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IOCB                              00000096
IOCB0                             00000000
IOCB1                             00000001
IOCB2                             00000002
IOCB3                             00000003
IOCB4                             00000004
IOCB5                             00000005
IOCB6                             00000006
IOCB7                             00000007
IRCF0                             00000004
IRCF1                             00000005
IRCF2                             00000006
IRP                               00000007
LTS                               00000001
MC1OUT                            00000007
MC2OUT                            00000006
MM                                00000001
MO                                00000005
MSK                               00000093
MSK0                              00000000
MSK1                              00000001
MSK2                              00000002
MSK3                              00000003
MSK4                              00000004
MSK5                              00000005
MSK6                              00000006
MSK7                              00000007
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000001
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OERR                              00000001
OPTION_REG                        00000081
OSCCON                            0000008F
OSCTUNE                           00000090
OSFIE                             00000007
OSFIF                             00000007
OSTS                              00000003
P                                 00000004
P1M0                              00000006
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 23


SYMBOL TABLE
  LABEL                             VALUE 

P1M1                              00000007
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PDC0                              00000000
PDC1                              00000001
PDC2                              00000002
PDC3                              00000003
PDC4                              00000004
PDC5                              00000005
PDC6                              00000006
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PRSEN                             00000007
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSSAC0                            00000002
PSSAC1                            00000003
PSSBD0                            00000000
PSSBD1                            00000001
PSTRCON                           0000009D
PULSR                             00000002
PULSS                             00000003
PWM1CON                           0000009B
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RA6                               00000006
RA7                               00000007
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 24


SYMBOL TABLE
  LABEL                             VALUE 

RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
RC4                               00000004
RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIDL                             00000006
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RD0                               00000000
RD1                               00000001
RD2                               00000002
RD3                               00000003
RD4                               00000004
RD5                               00000005
RD6                               00000006
RD7                               00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
RE3                               00000003
READ_WRITE                        00000002
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RTC_START                         
RTC_STOP                          
RX9                               00000006
RX9D                              00000000
R_NOT_W                           00000002
R_W                               00000002
ReadDate                          00000072
ReadDayofWeek                     000000AD
ReadRTCData                       00000000
ReadTime                          0000003F
S                                 00000003
SBOREN                            00000004
SCKP                              00000004
SCL                               PORTA,2
SCS                               00000000
SDA                               PORTA,3
SEN                               00000000
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 25


SYMBOL TABLE
  LABEL                             VALUE 

SENDB                             00000003
SET_BANK0                         
SET_BANK1                         
SMP                               00000007
SPBRG                             00000099
SPBRGH                            0000009A
SPEN                              00000007
SR0                               00000006
SR1                               00000007
SRCON                             00000185
SREN                              00000005
SS                                00000002
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPMSK                            00000093
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
STRA                              00000000
STRB                              00000001
STRC                              00000002
STRD                              00000003
STRSYNC                           00000004
SWDTEN                            00000000
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1GINV                            00000007
T1GIV                             00000007
T1GSS                             00000001
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMP                               00000000
TMR0                              00000001
TMR0IE                            00000005
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 26


SYMBOL TABLE
  LABEL                             VALUE 

TMR0IF                            00000002
TMR1                              0000000E
TMR1CS                            00000001
TMR1GE                            00000006
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISA6                            00000006
TRISA7                            00000007
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRISD                             00000088
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
TRISD6                            00000006
TRISD7                            00000007
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 27


SYMBOL TABLE
  LABEL                             VALUE 

TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRISE3                            00000003
TRIS_SCL                          TRISA,2
TRIS_SDA                          TRISA,3
TRMT                              00000001
TUN0                              00000000
TUN1                              00000001
TUN2                              00000002
TUN3                              00000003
TUN4                              00000004
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
ULPWUE                            00000005
ULPWUIE                           00000002
ULPWUIF                           00000002
VCFG0                             00000004
VCFG1                             00000005
VR0                               00000000
VR1                               00000001
VR2                               00000002
VR3                               00000003
VRCON                             00000097
VREN                              00000007
VROE                              00000006
VRR                               00000005
VRSS                              00000004
W                                 00000000
WCOL                              00000007
WD                                00000003
WDTCON                            00000105
WDTPS0                            00000001
WDTPS1                            00000002
WDTPS2                            00000003
WDTPS3                            00000004
WPUB                              00000095
WPUB0                             00000000
WPUB1                             00000001
WPUB2                             00000002
WPUB3                             00000003
WPUB4                             00000004
WPUB5                             00000005
WPUB6                             00000006
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 28


SYMBOL TABLE
  LABEL                             VALUE 

WPUB7                             00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
WUE                               00000001
WriteDate                         00000142
WriteDayofWeek                    0000016C
WriteRTC                          000000E0
WriteTime                         0000011A
YY                                00000006
Z                                 00000002
_BOR21V                           00003EFF
_BOR40V                           00003FFF
_BOR4V_BOR21V                     00003EFF
_BOR4V_BOR40V                     00003FFF
_BOREN_NSLEEP                     00003EFF
_BOREN_OFF                        00003CFF
_BOREN_ON                         00003FFF
_BOREN_SBODEN                     00003DFF
_BOR_NSLEEP                       00003EFF
_BOR_OFF                          00003CFF
_BOR_ON                           00003FFF
_BOR_SBODEN                       00003DFF
_CONFIG1                          00002007
_CONFIG2                          00002008
_CPD_OFF                          00003FFF
_CPD_ON                           00003F7F
_CP_OFF                           00003FFF
_CP_ON                            00003FBF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         00001FFF
_DEVID1                           00002006
_EC_OSC                           00003FFB
_EXTRC                            00003FFF
_EXTRCIO                          00003FFE
_EXTRC_OSC_CLKOUT                 00003FFF
_EXTRC_OSC_NOCLKOUT               00003FFE
_FCMEN_OFF                        000037FF
_FCMEN_ON                         00003FFF
_FOSC_EC                          00003FFB
_FOSC_EXTRC_CLKOUT                00003FFF
_FOSC_EXTRC_NOCLKOUT              00003FFE
_FOSC_HS                          00003FFA
_FOSC_INTRC_CLKOUT                00003FFD
_FOSC_INTRC_NOCLKOUT              00003FFC
_FOSC_LP                          00003FF8
_FOSC_XT                          00003FF9
_HS_OSC                           00003FFA
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_IESO_OFF                         00003BFF
MPASM  5.51                       RTCTIME.ASM   2-19-2018  16:43:38         PAGE 29


SYMBOL TABLE
  LABEL                             VALUE 

_IESO_ON                          00003FFF
_INTOSC                           00003FFD
_INTOSCIO                         00003FFC
_INTRC_OSC_CLKOUT                 00003FFD
_INTRC_OSC_NOCLKOUT               00003FFC
_LP_OSC                           00003FF8
_LVP_OFF                          00002FFF
_LVP_ON                           00003FFF
_MCLRE_OFF                        00003FDF
_MCLRE_ON                         00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FEF
_WDTE_OFF                         00003FF7
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FF7
_WDT_ON                           00003FFF
_WRT_1FOURTH                      00003BFF
_WRT_256                          00003DFF
_WRT_HALF                         000039FF
_WRT_OFF                          00003FFF
_XT_OSC                           00003FF9
__16F887                          00000001
__DEBUG                           1
ack                               0000022F
cont_I2C_r                        0000021F
nack                              00000244
read_RTC                          00000205
read_time                         0000018C
set_SDA                           00000296
set_TMP                           0000022B
write_RTC                         00000258
write_time                        000001CB

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    43 reported,     0 suppressed

